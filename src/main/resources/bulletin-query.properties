#bulletin-query.properties
insertBoard = insert into board(no, category, title, content, emp_no) values(seq_board_no.nextval, ?, ?, ?, ?)
selectLastBoardNo = select seq_board_no.currval from dual
insertAttachment = insert into attachment(no, original_filename, renamed_filename, board_no) values(seq_attachment_no.nextval, ?, ?, ?)
selectAttachmentByBoardNo = select * from attachment where board_no = ?
updateBoard = update board set category = ?, title = ?, content = ? where no = ?
selectAllBoard = select * from (select row_number() over(order by no desc) rnum, b.*, (SELECT EMP_NAME FROM emp e WHERE b.EMP_NO = e.EMP_NO) emp_name, (select count(*) from attachment where board_no = b.no) attach_count, (select count(*) from board_comment where board_no = b.no) comment_count from board b) where rnum between ? and ?
selectTotalBoardCount = select count(*) from board
selectOneBoard = SELECT b.*, e.EMP_NAME, (SELECT dept_name FROM DEPARTMENT d WHERE d.DEPT_CODE = e.DEPT_CODE) dept_name, (SELECT count(*) FROM BOARD_COMMENT WHERE board_no = ?) count FROM BOARD b JOIN emp e ON b.EMP_NO = e.EMP_NO WHERE b.NO = ?
selectAllNotice = select * from (select row_number() over(order by no desc) rnum, n.*, (SELECT EMP_NAME FROM emp e WHERE n.EMP_NO = e.EMP_NO) emp_name from notice n) where rnum between ? and ?
deleteAttachment = delete from attachment where no = ?
selectOneAttachment = select * from attachment where no = ?
selectBoardCommentList = SELECT bc.*, (SELECT emp_name FROM emp e WHERE bc.EMP_NO = e.EMP_NO) emp_name, (SELECT dept_name FROM DEPARTMENT d JOIN emp e ON d.DEPT_CODE = e.DEPT_CODE WHERE e.EMP_NO = bc.EMP_NO) dept_name FROM BOARD_COMMENT bc WHERE BOARD_NO = ? START WITH comment_level = 1 CONNECT BY PRIOR NO = comment_ref ORDER siblings by NO
updateReadCount = update board set read_count = read_count +1 where no =?
selectAllAnonymousBoard = SELECT rownum, RESULT.* FROM (SELECT ab.*, (select count(*) from attachment aa where aa.board_no = ab.no) attach_count, (select count(*) from anonymous_board_comment abc where abc.board_no = ab.no) comment_count FROM anonymous_board ab ORDER BY ab.reg_date) RESULT ORDER BY rownum desc
searchBoard = select * from (select row_number() over(order by no desc) rnum, b.*, (SELECT EMP_NAME FROM emp e WHERE b.EMP_NO = e.EMP_NO) emp_name, (select count(*) from attachment where board_no = b.no) attach_count, (select count(*) from board_comment where board_no = b.no) comment_count from board b) where
insertBoardComment = INSERT INTO BOARD_COMMENT values(seq_board_comment_no.nextval, ?, ?, DEFAULT, ?, DEFAULT, ?, ?, DEFAULT)
searchBoard = select * from (select row_number() over(order by no desc) rnum, b.*, (SELECT EMP_NAME FROM emp e WHERE b.EMP_NO = e.EMP_NO) emp_name, (select count(*) from attachment where board_no = b.no) attach_count, (select count(*) from board_comment where board_no = b.no) comment_count from board b) where
searchNotice = select * from (select row_number() over(order by no desc) rnum, n.*, (SELECT EMP_NAME FROM emp e WHERE n.EMP_NO = e.EMP_NO) emp_name from notice n) where rnum between 1 and 30;
